import{_ as W}from"./D3Pdst1a.js";import{u as H,f as X,_ as Y,i as ye}from"./D8U0mdRn.js";import{A as Z,B as D,o as r,c as i,I as m,L as ve,E as l,a as c,t as C,G as b,a7 as be,J as k,F as I,K as U,d as _,k as ee,i as u,N as x,Q as $,b as J,D as N,W as K,O as L,M as F,v as M}from"./B5RJlC2E.js";import{_ as te}from"./DlAUqK2U.js";import{b as Q}from"./BPjMuzXN.js";const he={wrapper:"relative overflow-x-auto",base:"min-w-full table-fixed",divide:"divide-y divide-gray-300 dark:divide-gray-700",thead:"relative",tbody:"divide-y divide-gray-200 dark:divide-gray-800",caption:"sr-only",tr:{base:"",selected:"bg-gray-50 dark:bg-gray-800/50",expanded:"bg-gray-50 dark:bg-gray-800/50",active:"hover:bg-gray-50 dark:hover:bg-gray-800/50 cursor-pointer"},th:{base:"text-left rtl:text-right",padding:"px-4 py-3.5",color:"text-gray-900 dark:text-white",font:"font-semibold",size:"text-sm"},td:{base:"whitespace-nowrap",padding:"px-4 py-4",color:"text-gray-500 dark:text-gray-400",font:"",size:"text-sm"},checkbox:{padding:"ps-4"},loadingState:{wrapper:"flex flex-col items-center justify-center flex-1 px-6 py-14 sm:px-14",label:"text-sm text-center text-gray-900 dark:text-white",icon:"w-6 h-6 mx-auto text-gray-400 dark:text-gray-500 mb-4 animate-spin"},emptyState:{wrapper:"flex flex-col items-center justify-center flex-1 px-6 py-14 sm:px-14",label:"text-sm text-center text-gray-900 dark:text-white",icon:"w-6 h-6 mx-auto text-gray-400 dark:text-gray-500 mb-4"},expand:{icon:"transform transition-transform duration-200"},progress:{wrapper:"absolute inset-x-0 -bottom-[0.5px] p-0"},default:{sortAscIcon:"i-heroicons-bars-arrow-up-20-solid",sortDescIcon:"i-heroicons-bars-arrow-down-20-solid",sortButton:{icon:"i-heroicons-arrows-up-down-20-solid",trailing:!0,square:!0,color:"gray",variant:"ghost",class:"-m-1.5"},expandButton:{icon:"i-heroicons-chevron-down",color:"gray",variant:"ghost",size:"xs",class:"-my-1.5 align-middle"},checkbox:{color:"primary"},progress:{color:"primary",animation:"carousel"},loadingState:{icon:"i-heroicons-arrow-path-20-solid",label:"Loading..."},emptyState:{icon:"i-heroicons-circle-stack-20-solid",label:"No items."}}},ke={wrapper:"w-full flex flex-col gap-2",indicator:{container:{base:"flex flex-row justify-end",width:"min-w-fit",transition:"transition-all"},align:"text-end",width:"w-fit",color:"text-gray-400 dark:text-gray-500",size:{"2xs":"text-xs",xs:"text-xs",sm:"text-sm",md:"text-sm",lg:"text-sm",xl:"text-base","2xl":"text-base"}},progress:{base:"block appearance-none border-none overflow-hidden",width:"w-full [&::-webkit-progress-bar]:w-full",size:{"2xs":"h-px",xs:"h-0.5",sm:"h-1",md:"h-2",lg:"h-3",xl:"h-4","2xl":"h-5"},rounded:"rounded-full [&::-webkit-progress-bar]:rounded-full",track:"[&::-webkit-progress-bar]:bg-gray-200 [&::-webkit-progress-bar]:dark:bg-gray-700 [@supports(selector(&::-moz-progress-bar))]:bg-gray-200 [@supports(selector(&::-moz-progress-bar))]:dark:bg-gray-700",bar:"[&::-webkit-progress-value]:rounded-full [&::-webkit-progress-value]:transition-all [&::-webkit-progress-value]:ease-in-out [&::-moz-progress-bar]:rounded-full",color:"text-{color}-500 dark:text-{color}-400",background:"[&::-webkit-progress-value]:bg-current [&::-moz-progress-bar]:bg-current",indeterminate:{base:"indeterminate:relative",rounded:"indeterminate:after:rounded-full [&:indeterminate::-webkit-progress-value]:rounded-full [&:indeterminate::-moz-progress-bar]:rounded-full"}},steps:{base:"grid grid-cols-1",color:"text-{color}-500 dark:text-{color}-400",size:{"2xs":"text-xs",xs:"text-xs",sm:"text-sm",md:"text-sm",lg:"text-sm",xl:"text-base","2xl":"text-base"}},step:{base:"transition-all opacity-0 truncate row-start-1 col-start-1",align:"text-end",active:"opacity-100",first:"text-gray-500 dark:text-gray-400"},animation:{carousel:"bar-animation-carousel","carousel-inverse":"bar-animation-carousel-inverse",swing:"bar-animation-swing",elastic:"bar-animation-elastic"},default:{color:"primary",size:"md",animation:"carousel"}},O=Z(D.ui.strategy,D.ui.progress,ke),Se=ee({inheritAttrs:!1,props:{value:{type:Number,default:null},max:{type:[Number,Array],default:100},indicator:{type:Boolean,default:!1},animation:{type:String,default:()=>O.default.animation,validator(e){return Object.keys(O.animation).includes(e)}},size:{type:String,default:()=>O.default.size,validator(e){return Object.keys(O.progress.size).includes(e)}},color:{type:String,default:()=>O.default.color,validator(e){return D.ui.colors.includes(e)}},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:s,attrs:y}=H("progress",x(e,"ui"),O,x(e,"class")),A=u(()=>$(s.value.indicator.container.base,s.value.indicator.container.width,s.value.indicator.container.transition)),V=u(()=>$(s.value.indicator.align,s.value.indicator.width,s.value.indicator.color,s.value.indicator.size[e.size])),z=u(()=>{const p=[s.value.progress.base,s.value.progress.width,s.value.progress.size[e.size],s.value.progress.rounded,s.value.progress.track,s.value.progress.bar,s.value.progress.color?.replaceAll("{color}",e.color),s.value.progress.background,s.value.progress.indeterminate.base,s.value.progress.indeterminate.rounded];return S.value&&p.push(s.value.animation[e.animation]),$(...p)}),o=u(()=>$(s.value.steps.base,s.value.steps.color?.replaceAll("{color}",e.color),s.value.steps.size[e.size])),f=u(()=>$(s.value.step.base,s.value.step.align)),R=u(()=>$(s.value.step.active)),B=u(()=>$(s.value.step.first));function t(p){return p===Number(e.value)}function v(p){return p===0}function d(p){p=Number(p);const j=[f.value];return v(p)&&j.push(B.value),t(p)&&j.push(R.value),j.join(" ")}const S=u(()=>e.value===void 0||e.value===null),h=u(()=>Array.isArray(e.max)),E=u(()=>S.value?null:Array.isArray(e.max)?e.max.length-1:Number(e.max)),P=u(()=>{if(!S.value)switch(!0){case e.value<0:return 0;case e.value>E.value:return 100;default:return e.value/E.value*100}});return{ui:s,attrs:y,indicatorContainerClass:A,indicatorClass:V,progressClass:z,stepsClass:o,stepClasses:d,isIndeterminate:S,isSteps:h,realMax:E,percent:P}}}),we=["aria-valuemax","aria-valuenow"];function Ce(e,s,y,A,V,z){return r(),i("div",{class:l(e.ui.wrapper),role:"progressbar"},[e.indicator||e.$slots.indicator?m(e.$slots,"indicator",be(k({key:0},{percent:e.percent})),()=>[e.isSteps?b("",!0):(r(),i("div",{key:0,class:l(e.indicatorContainerClass),style:ve({width:`${e.percent}%`})},[c("div",{class:l(e.indicatorClass)},C(Math.round(e.percent))+"% ",3)],6))],!0):b("",!0),c("progress",k({"aria-valuemax":e.realMax,"aria-valuenow":e.value,class:e.progressClass},{value:e.value,max:e.realMax,...e.attrs}),C(e.percent!==void 0?`${Math.round(e.percent)}%`:void 0),17,we),e.isSteps?(r(),i("div",{key:1,class:l(e.stepsClass)},[(r(!0),i(I,null,U(e.max,(o,f)=>(r(),i("div",{key:f,class:l(e.stepClasses(f))},[m(e.$slots,`step-${f}`,k({ref_for:!0},{step:o}),()=>[_(C(o),1)],!0)],2))),128))],2)):b("",!0)],2)}const ae=te(Se,[["render",Ce],["__scopeId","data-v-e0a22531"]]);function Ae(e){return e?e[0].toUpperCase()+e.slice(1):""}const w=Z(D.ui.strategy,D.ui.table,he);function $e(e,s){return ye(e,s)}function q(e,s,y){return e===s?0:y==="asc"?e<s?-1:1:e>s?-1:1}function T(e){return new Set(e.map(s=>JSON.stringify(s)))}function ze(e){return s=>F(s,e)}const Be=ee({components:{UIcon:Y,UButton:X,UProgress:ae,UCheckbox:W},inheritAttrs:!1,props:{modelValue:{type:Array,default:null},by:{type:[String,Function],default:()=>$e},rows:{type:Array,default:()=>[]},columns:{type:Array,default:null},columnAttribute:{type:String,default:"label"},sort:{type:Object,default:()=>({})},sortMode:{type:String,default:"auto"},sortButton:{type:Object,default:()=>w.default.sortButton},sortAscIcon:{type:String,default:()=>w.default.sortAscIcon},sortDescIcon:{type:String,default:()=>w.default.sortDescIcon},expandButton:{type:Object,default:()=>w.default.expandButton},expand:{type:Object,default:()=>null},loading:{type:Boolean,default:!1},loadingState:{type:Object,default:()=>w.default.loadingState},emptyState:{type:Object,default:()=>w.default.emptyState},caption:{type:String,default:null},progress:{type:Object,default:()=>w.default.progress},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},multipleExpand:{type:Boolean,default:!0},singleSelect:{type:Boolean,default:!1}},emits:["update:modelValue","update:sort","update:expand","select:all"],setup(e,{emit:s,attrs:y}){const{ui:A,attrs:V}=H("table",x(e,"ui"),w,x(e,"class")),z=u(()=>{const a=e.columns??Object.keys(e.rows[0]).map(g=>({key:g,label:Ae(g),sortable:!1,class:void 0,sort:q}));return a.find(g=>g.key==="select")||!e.modelValue?a:[{key:"select",sortable:!1,class:void 0,sort:q},...a]}),o=Q(e,"sort",s,{passive:!0,defaultValue:L({},e.sort,{column:null,direction:"asc"})}),f=Q(e,"expand",s,{passive:!0,defaultValue:L({},e.expand,{openedRows:[],row:null})}),R={column:o.value.column,direction:null},B=u(()=>{if(!o.value?.column||e.sortMode==="manual")return e.rows;const{column:a,direction:n}=o.value;return e.rows.slice().sort((g,pe)=>{const ge=F(g,a),fe=F(pe,a);return(z.value.find(me=>me.key===a)?.sort??q)(ge,fe,n)})}),t=u({get(){return e.modelValue},set(a){s("update:modelValue",a)}}),v=u(()=>e.rows.length),d=u(()=>{const a=T(t.value),n=T(e.rows);return Array.from(a).filter(g=>n.has(g)).length}),S=u(()=>!t.value||!e.rows?!1:d.value>0&&d.value<v.value),h=u(()=>d.value===v.value),E=u(()=>e.emptyState===null?null:{...A.value.default.emptyState,...e.emptyState}),P=u(()=>e.loadingState===null?null:{...A.value.default.loadingState,...e.loadingState});function p(a,n){if(typeof e.by=="string"){const g=ze(e.by);return g(a)===g(n)}return e.by(a,n)}function j(a){return e.modelValue?t.value.some(n=>p(M(n),M(a))):!1}function se(a){if(o.value.column===a.key){const n=!a.direction||a.direction==="asc"?"desc":"asc";o.value.direction===n?o.value=L({},R,{column:null,direction:"asc"}):o.value={column:o.value.column,direction:o.value.direction==="asc"?"desc":"asc"}}else o.value={column:a.key,direction:a.direction||"asc"}}function ne(a){const n=window.getSelection();n&&n.toString().length>0||y.onSelect&&y.onSelect(a)}function re(a,n){y.onContextmenu&&y.onContextmenu(a,n)}function oe(){const a=[...t.value];e.rows.forEach(n=>{j(n)||a.push(n)}),t.value=a}function le(a){a?oe():t.value=[],s("select:all",a)}function ie(a,n){a?t.value=e.singleSelect?[n]:[...t.value,n]:t.value=t.value.filter(g=>!p(M(g),M(n)))}function ue(a,n,g=""){return F(a,n,g)}function G(a){return f.value?.openedRows?f.value.openedRows.some(n=>p(n,a)):!1}function de(a){f.value={openedRows:G(a)?f.value.openedRows.filter(n=>!p(n,a)):e.multipleExpand?[...f.value.openedRows,a]:[a],row:a}}function ce(a){if(a.sortable){if(o.value.column!==a.key)return"none";if(o.value.direction==="asc")return"ascending";if(o.value.direction==="desc")return"descending"}}return{ui:A,attrs:V,sort:o,columns:z,rows:B,selected:t,indeterminate:S,emptyState:E,loadingState:P,isAllRowChecked:h,onChangeCheckbox:ie,isSelected:j,onSort:se,onSelect:ne,onContextmenu:re,onChange:le,getRowData:ue,toggleOpened:de,getAriaSort:ce,isExpanded:G}}}),je=["aria-sort"],Oe={key:1},Ve={key:0},Re={key:0},Ee=["colspan"],Ie={key:1},De=["colspan"],Ne=["onClick","onContextmenu"],Me={key:0},Ue={colspan:"100%"};function Fe(e,s,y,A,V,z){const o=W,f=X,R=ae,B=Y;return r(),i("div",k({class:e.ui.wrapper},e.attrs),[c("table",{class:l([e.ui.base,e.ui.divide])},[e.$slots.caption||e.caption?m(e.$slots,"caption",{key:0},()=>[c("caption",{class:l(e.ui.caption)},C(e.caption),3)]):b("",!0),c("thead",{class:l(e.ui.thead)},[c("tr",{class:l(e.ui.tr.base)},[e.expand?(r(),i("th",{key:0,scope:"col",class:l(e.ui.tr.base)},[...s[0]||(s[0]=[c("span",{class:"sr-only"},"Expand",-1)])],2)):b("",!0),(r(!0),i(I,null,U(e.columns,(t,v)=>(r(),i("th",{key:v,scope:"col",class:l([e.ui.th.base,e.ui.th.padding,e.ui.th.color,e.ui.th.font,e.ui.th.size,t.key==="select"&&e.ui.checkbox.padding,t.class]),"aria-sort":e.getAriaSort(t)},[!e.singleSelect&&e.modelValue&&t.key==="select"?m(e.$slots,"select-header",{key:0,indeterminate:e.indeterminate,checked:e.isAllRowChecked,change:e.onChange},()=>[J(o,k({"model-value":e.isAllRowChecked,indeterminate:e.indeterminate},{ref_for:!0},e.ui.default.checkbox,{"aria-label":"Select all",onChange:e.onChange}),null,16,["model-value","indeterminate","onChange"])]):m(e.$slots,`${t.key}-header`,{key:1,column:t,sort:e.sort,onSort:e.onSort},()=>[t.sortable?(r(),N(f,k({key:0,ref_for:!0},{...e.ui.default.sortButton||{},...e.sortButton},{icon:!e.sort.column||e.sort.column!==t.key?e.sortButton.icon||e.ui.default.sortButton.icon:e.sort.direction==="asc"?e.sortAscIcon:e.sortDescIcon,label:t[e.columnAttribute],onClick:d=>e.onSort(t)}),null,16,["icon","label","onClick"])):(r(),i("span",Oe,C(t[e.columnAttribute]),1))])],10,je))),128))],2),e.loading&&e.progress?(r(),i("tr",Ve,[c("td",{colspan:0,class:l(e.ui.progress.wrapper)},[J(R,k({...e.ui.default.progress||{},...e.progress},{size:"2xs"}),null,16)],2)])):b("",!0)],2),c("tbody",{class:l(e.ui.tbody)},[e.loadingState&&e.loading&&!e.rows.length?(r(),i("tr",Re,[c("td",{colspan:e.columns.length+(e.modelValue?1:0)+(e.expand?1:0)},[m(e.$slots,"loading-state",{},()=>[c("div",{class:l(e.ui.loadingState.wrapper)},[e.loadingState.icon?(r(),N(B,{key:0,name:e.loadingState.icon,class:l(e.ui.loadingState.icon),"aria-hidden":"true"},null,8,["name","class"])):b("",!0),c("p",{class:l(e.ui.loadingState.label)},C(e.loadingState.label),3)],2)])],8,Ee)])):e.emptyState&&!e.rows.length?(r(),i("tr",Ie,[c("td",{colspan:e.columns.length+(e.modelValue?1:0)+(e.expand?1:0)},[m(e.$slots,"empty-state",{},()=>[c("div",{class:l(e.ui.emptyState.wrapper)},[e.emptyState.icon?(r(),N(B,{key:0,name:e.emptyState.icon,class:l(e.ui.emptyState.icon),"aria-hidden":"true"},null,8,["name","class"])):b("",!0),c("p",{class:l(e.ui.emptyState.label)},C(e.emptyState.label),3)],2)])],8,De)])):(r(!0),i(I,{key:2},U(e.rows,(t,v)=>(r(),i(I,{key:v},[c("tr",{class:l([e.ui.tr.base,e.isSelected(t)&&e.ui.tr.selected,e.isExpanded(t)&&e.ui.tr.expanded,e.$attrs.onSelect&&e.ui.tr.active,t?.class]),onClick:()=>e.onSelect(t),onContextmenu:d=>e.onContextmenu(d,t)},[e.expand?(r(),i("td",{key:0,class:l([e.ui.td.base,e.ui.td.padding,e.ui.td.color,e.ui.td.font,e.ui.td.size])},[e.$slots["expand-action"]?m(e.$slots,"expand-action",{key:0,row:t,isExpanded:e.isExpanded(t),toggle:()=>e.toggleOpened(t)}):(r(),N(f,k({key:1,disabled:t.disabledExpand},{ref_for:!0},{...e.ui.default.expandButton||{},...e.expandButton},{ui:{icon:{base:[e.ui.expand.icon,e.isExpanded(t)&&"rotate-180"].join(" ")}},onClickCapture:K(d=>e.toggleOpened(t),["stop"])}),null,16,["disabled","ui","onClickCapture"]))],2)):b("",!0),(r(!0),i(I,null,U(e.columns,(d,S)=>(r(),i("td",{key:S,class:l([e.ui.td.base,e.ui.td.padding,e.ui.td.color,e.ui.td.font,e.ui.td.size,d?.rowClass,t[d.key]?.class,d.key==="select"&&e.ui.checkbox.padding])},[e.modelValue&&d.key==="select"?(r(),i("span",{key:0,onClickCapture:K(()=>{},["stop"])},[m(e.$slots,"select-data",{checked:e.isSelected(t),change:h=>e.onChangeCheckbox(h,t)},()=>[J(o,k({"model-value":e.isSelected(t)},{ref_for:!0},e.ui.default.checkbox,{"aria-label":"Select row",onChange:h=>e.onChangeCheckbox(h,t)}),null,16,["model-value","onChange"])])],32)):m(e.$slots,`${d.key}-data`,{key:1,column:d,row:t,index:v,getRowData:h=>e.getRowData(t,d.key,h)},()=>[_(C(e.getRowData(t,d.key)),1)])],2))),128))],42,Ne),e.isExpanded(t)?(r(),i("tr",Me,[c("td",Ue,[m(e.$slots,"expand",{row:t,index:v})])])):b("",!0)],64))),128))],2)],2)],16)}const Ke=te(Be,[["render",Fe]]);export{Ke as _};
