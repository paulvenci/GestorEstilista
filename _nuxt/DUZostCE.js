import{ad as l,f as u,ae as n,n as r}from"./CftujQzW.js";const m=l(async(c,d)=>{let e,t;const o=u(),{data:{user:i}}=([e,t]=n(()=>o.auth.getUser()),e=await e,t(),e);if(!i)return r("/login");try{const{data:a,error:s}=([e,t]=n(()=>o.from("profiles").select("role").eq("id",i.id).maybeSingle()),e=await e,t(),e);if(s||!a||a.role!=="superadmin")return r("/login")}catch{return r("/login")}});export{m as default};
