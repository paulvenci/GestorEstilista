import{n as N,t as $,i as C,c as F}from"./BBSTtyTp.js";import{I as J,A as y,q as O,C as S,r as A,a6 as M,a3 as z,i as R,L as B,G as D}from"./BoyDVv4J.js";function P(t,e,o){var u;let c;R(o)?c={evaluating:o}:c=o||{};const{lazy:r=!1,flush:d="pre",evaluating:n=void 0,shallow:m=!0,onError:g=(u=globalThis.reportError)!=null?u:N}=c,f=S(!r),i=m?S(e):A(e);let s=0;return J(async a=>{if(!f.value)return;s++;const h=s;let v=!1;n&&Promise.resolve().then(()=>{n.value=!0});try{const p=await t(w=>{a(()=>{n&&(n.value=!1),v||w()})});h===s&&(i.value=p)}catch(p){g(p)}finally{n&&h===s&&(n.value=!1),v=!0}},{flush:d}),r?y(()=>(f.value=!0,i.value)):i}const I=C?window:void 0;function x(t){var e;const o=M(t);return(e=o?.$el)!=null?e:o}function T(){const t=S(!1),e=z();return e&&D(()=>{t.value=!0},e),t}function W(t){const e=T();return y(()=>(e.value,!!t()))}function q(t){return JSON.parse(JSON.stringify(t))}function U(t,e,o={}){const{window:u=I,...c}=o;let r;const d=W(()=>u&&"ResizeObserver"in u),n=()=>{r&&(r.disconnect(),r=void 0)},m=y(()=>{const i=M(t);return Array.isArray(i)?i.map(s=>x(s)):[x(i)]}),g=O(m,i=>{if(n(),d.value&&u){r=new ResizeObserver(e);for(const s of i)s&&r.observe(s,c)}},{immediate:!0,flush:"post"}),f=()=>{n(),g()};return $(f),{isSupported:d,stop:f}}function j(t,e,o,u={}){var c,r,d;const{clone:n=!1,passive:m=!1,eventName:g,deep:f=!1,defaultValue:i,shouldEmit:s}=u,a=z(),h=o||a?.emit||((c=a?.$emit)==null?void 0:c.bind(a))||((d=(r=a?.proxy)==null?void 0:r.$emit)==null?void 0:d.bind(a?.proxy));let v=g;e||(e="modelValue"),v=v||`update:${e.toString()}`;const p=l=>n?typeof n=="function"?n(l):q(l):l,w=()=>F(t[e])?p(t[e]):i,V=l=>{s?s(l)&&h(v,l):h(v,l)};if(m){const l=w(),E=A(l);let b=!1;return O(()=>t[e],_=>{b||(b=!0,E.value=p(_),B(()=>b=!1))}),O(E,_=>{!b&&(_!==t[e]||f)&&V(_)},{deep:f}),E}else return y({get(){return w()},set(l){V(l)}})}export{x as a,j as b,P as c,U as u};
