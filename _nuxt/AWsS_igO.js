import{ac as c,U as l,ad as i,a4 as r}from"./CX5sY2o7.js";const m=c(async(u,d)=>{let e,t;const o=l(),{data:{user:s}}=([e,t]=i(()=>o.auth.getUser()),e=await e,t(),e);if(!s)return r("/login");try{const{data:a,error:n}=([e,t]=i(()=>o.from("profiles").select("role").eq("id",s.id).maybeSingle()),e=await e,t(),e);if(n||!a||a.role!=="superadmin")return r("/")}catch{return r("/")}});export{m as default};
