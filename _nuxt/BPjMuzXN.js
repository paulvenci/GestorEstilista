import{t as A,i as N,n as F,c as J}from"./WxzpVJyX.js";import{f as E,i as y,p as R,$ as M,s as O,r as $,Y as z,V as B,n as C,l as D}from"./B5RJlC2E.js";function j(t,e,o){var u;let c;B(o)?c={evaluating:o}:c=o||{};const{lazy:r=!1,flush:d="pre",evaluating:n=void 0,shallow:m=!0,onError:g=(u=globalThis.reportError)!=null?u:F}=c,f=O(!r),i=m?O(e):$(e);let s=0;return R(async l=>{if(!f.value)return;s++;const h=s;let v=!1;n&&Promise.resolve().then(()=>{n.value=!0});try{const p=await t(w=>{l(()=>{n&&(n.value=!1),v||w()})});h===s&&(i.value=p)}catch(p){g(p)}finally{n&&h===s&&(n.value=!1),v=!0}},{flush:d}),r?y(()=>(f.value=!0,i.value)):i}const T=N?window:void 0;function x(t){var e;const o=M(t);return(e=o?.$el)!=null?e:o}function W(){const t=O(!1),e=z();return e&&D(()=>{t.value=!0},e),t}function I(t){const e=W();return y(()=>(e.value,!!t()))}function P(t){return JSON.parse(JSON.stringify(t))}function q(t,e,o={}){const{window:u=T,...c}=o;let r;const d=I(()=>u&&"ResizeObserver"in u),n=()=>{r&&(r.disconnect(),r=void 0)},m=y(()=>{const i=M(t);return Array.isArray(i)?i.map(s=>x(s)):[x(i)]}),g=E(m,i=>{if(n(),d.value&&u){r=new ResizeObserver(e);for(const s of i)s&&r.observe(s,c)}},{immediate:!0,flush:"post"}),f=()=>{n(),g()};return A(f),{isSupported:d,stop:f}}function G(t,e,o,u={}){var c,r,d;const{clone:n=!1,passive:m=!1,eventName:g,deep:f=!1,defaultValue:i,shouldEmit:s}=u,l=z(),h=o||l?.emit||((c=l?.$emit)==null?void 0:c.bind(l))||((d=(r=l?.proxy)==null?void 0:r.$emit)==null?void 0:d.bind(l?.proxy));let v=g;e||(e="modelValue"),v=v||`update:${e.toString()}`;const p=a=>n?typeof n=="function"?n(a):P(a):a,w=()=>J(t[e])?p(t[e]):i,S=a=>{s?s(a)&&h(v,a):h(v,a)};if(m){const a=w(),V=$(a);let b=!1;return E(()=>t[e],_=>{b||(b=!0,V.value=p(_),C(()=>b=!1))}),E(V,_=>{!b&&(_!==t[e]||f)&&S(_)},{deep:f}),V}else return y({get(){return w()},set(a){S(a)}})}export{x as a,G as b,j as c,q as u};
