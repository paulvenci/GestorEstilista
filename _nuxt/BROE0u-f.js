import{u as be,g as Te,_ as ye,h as Re,f as Ce}from"./BK1iGzOX.js";import{_ as De}from"./CtQBUKAt.js";import{_ as _e}from"./kMxVZpd9.js";import{c as $,i as $e,f as Oe,u as Ue,p as Ve,_ as he,a as Ne}from"./BegKtg1H.js";import{k as B,l as ue,j as Ae,p as Ee,n as L,r as x,i as O,m as Be,x as je,A as ke,B as W,o as w,c as D,I as se,d as Z,t as N,J as q,N as re,P as Me,Q as Se,C as Q,D as E,w as g,b as v,E as V,a as P,L as Le,T as ze,G,F as ae,K as ne,H as Fe,f as pe,O as He,R as qe,U as Ke,a0 as Je,a1 as Qe,V as me,e as S,W as fe,z as Ge}from"./C1tViVxN.js";import{_ as we}from"./DlAUqK2U.js";import{i as ie,a as R,A as Y,B as Ie,l as We,N as ve,b as T,C as Ze,k as ge,w as Xe,h as Ye,j as et,O as tt,d as at,g as X,u as nt,y as ot,_ as lt}from"./eJSVvdZN.js";import{s as st}from"./F2Urmy6C.js";import{_ as rt}from"./Chr3ArP9.js";import{_ as ut}from"./Dbnl8vwX.js";import{_ as it,b as dt}from"./Bn3KjxKb.js";import{_ as ct}from"./DoF4r5N4.js";import"./BWX2_Yhy.js";import"./DSL453eT.js";const pt={base:"inline-flex items-center justify-center text-gray-900 dark:text-white",padding:"px-1",size:{xs:"h-4 min-w-[16px] text-[10px]",sm:"h-5 min-w-[20px] text-[11px]",md:"h-6 min-w-[24px] text-[12px]"},rounded:"rounded",font:"font-medium font-sans",background:"bg-gray-100 dark:bg-gray-800",ring:"ring-1 ring-gray-300 dark:ring-gray-700 ring-inset",default:{size:"sm"}};var mt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(mt||{}),ft=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(ft||{});function vt(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let Pe=Symbol("MenuContext");function ee(e){let d=Be(Pe,null);if(d===null){let h=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(h,ee),h}return d}let gt=B({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:d,attrs:h}){let k=x(1),y=x(null),_=x(null),t=x([]),o=x(""),c=x(null),b=x(1);function I(a=l=>l){let l=c.value!==null?t.value[c.value]:null,s=tt(a(t.value.slice()),r=>R(r.dataRef.domRef)),f=l?s.indexOf(l):null;return f===-1&&(f=null),{items:s,activeItemIndex:f}}let m={menuState:k,buttonRef:y,itemsRef:_,items:t,searchQuery:o,activeItemIndex:c,activationTrigger:b,closeMenu:()=>{k.value=1,c.value=null},openMenu:()=>k.value=0,goToItem(a,l,s){let f=I(),r=Oe(a===$.Specific?{focus:$.Specific,id:l}:{focus:a},{resolveItems:()=>f.items,resolveActiveIndex:()=>f.activeItemIndex,resolveId:n=>n.id,resolveDisabled:n=>n.dataRef.disabled});o.value="",c.value=r,b.value=s??1,t.value=f.items},search(a){let l=o.value!==""?0:1;o.value+=a.toLowerCase();let s=(c.value!==null?t.value.slice(c.value+l).concat(t.value.slice(0,c.value+l)):t.value).find(r=>r.dataRef.textValue.startsWith(o.value)&&!r.dataRef.disabled),f=s?t.value.indexOf(s):-1;f===-1||f===c.value||(c.value=f,b.value=1)},clearSearch(){o.value=""},registerItem(a,l){let s=I(f=>[...f,{id:a,dataRef:l}]);t.value=s.items,c.value=s.activeItemIndex,b.value=1},unregisterItem(a){let l=I(s=>{let f=s.findIndex(r=>r.id===a);return f!==-1&&s.splice(f,1),s});t.value=l.items,c.value=l.activeItemIndex,b.value=1}};return Xe([y,_],(a,l)=>{var s;m.closeMenu(),Ye(l,et.Loose)||(a.preventDefault(),(s=R(y))==null||s.focus())},O(()=>k.value===0)),je(Pe,m),at(O(()=>nt(k.value,{0:X.Open,1:X.Closed}))),()=>{let a={open:k.value===0,close:m.closeMenu};return Y({ourProps:{},theirProps:e,slot:a,slots:d,attrs:h,name:"Menu"})}}}),bt=B({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:d,slots:h,expose:k}){var y;let _=(y=e.id)!=null?y:`headlessui-menu-button-${ie()}`,t=ee("MenuButton");k({el:t.buttonRef,$el:t.buttonRef});function o(m){switch(m.key){case T.Space:case T.Enter:case T.ArrowDown:m.preventDefault(),m.stopPropagation(),t.openMenu(),L(()=>{var a;(a=R(t.itemsRef))==null||a.focus({preventScroll:!0}),t.goToItem($.First)});break;case T.ArrowUp:m.preventDefault(),m.stopPropagation(),t.openMenu(),L(()=>{var a;(a=R(t.itemsRef))==null||a.focus({preventScroll:!0}),t.goToItem($.Last)});break}}function c(m){m.key===T.Space&&m.preventDefault()}function b(m){e.disabled||(t.menuState.value===0?(t.closeMenu(),L(()=>{var a;return(a=R(t.buttonRef))==null?void 0:a.focus({preventScroll:!0})})):(m.preventDefault(),t.openMenu(),vt(()=>{var a;return(a=R(t.itemsRef))==null?void 0:a.focus({preventScroll:!0})})))}let I=st(O(()=>({as:e.as,type:d.type})),t.buttonRef);return()=>{var m;let a={open:t.menuState.value===0},{...l}=e,s={ref:t.buttonRef,id:_,type:I.value,"aria-haspopup":"menu","aria-controls":(m=R(t.itemsRef))==null?void 0:m.id,"aria-expanded":t.menuState.value===0,onKeydown:o,onKeyup:c,onClick:b};return Y({ourProps:s,theirProps:l,slot:a,attrs:d,slots:h,name:"MenuButton"})}}}),yt=B({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:d,slots:h,expose:k}){var y;let _=(y=e.id)!=null?y:`headlessui-menu-items-${ie()}`,t=ee("MenuItems"),o=x(null);k({el:t.itemsRef,$el:t.itemsRef}),$e({container:O(()=>R(t.itemsRef)),enabled:O(()=>t.menuState.value===0),accept(a){return a.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:a.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(a){a.setAttribute("role","none")}});function c(a){var l;switch(o.value&&clearTimeout(o.value),a.key){case T.Space:if(t.searchQuery.value!=="")return a.preventDefault(),a.stopPropagation(),t.search(a.key);case T.Enter:if(a.preventDefault(),a.stopPropagation(),t.activeItemIndex.value!==null){let s=t.items.value[t.activeItemIndex.value];(l=R(s.dataRef.domRef))==null||l.click()}t.closeMenu(),Ie(R(t.buttonRef));break;case T.ArrowDown:return a.preventDefault(),a.stopPropagation(),t.goToItem($.Next);case T.ArrowUp:return a.preventDefault(),a.stopPropagation(),t.goToItem($.Previous);case T.Home:case T.PageUp:return a.preventDefault(),a.stopPropagation(),t.goToItem($.First);case T.End:case T.PageDown:return a.preventDefault(),a.stopPropagation(),t.goToItem($.Last);case T.Escape:a.preventDefault(),a.stopPropagation(),t.closeMenu(),L(()=>{var s;return(s=R(t.buttonRef))==null?void 0:s.focus({preventScroll:!0})});break;case T.Tab:a.preventDefault(),a.stopPropagation(),t.closeMenu(),L(()=>Ze(R(t.buttonRef),a.shiftKey?ge.Previous:ge.Next));break;default:a.key.length===1&&(t.search(a.key),o.value=setTimeout(()=>t.clearSearch(),350));break}}function b(a){a.key===T.Space&&a.preventDefault()}let I=We(),m=O(()=>I!==null?(I.value&X.Open)===X.Open:t.menuState.value===0);return()=>{var a,l;let s={open:t.menuState.value===0},{...f}=e,r={"aria-activedescendant":t.activeItemIndex.value===null||(a=t.items.value[t.activeItemIndex.value])==null?void 0:a.id,"aria-labelledby":(l=R(t.buttonRef))==null?void 0:l.id,id:_,onKeydown:c,onKeyup:b,role:"menu",tabIndex:0,ref:t.itemsRef};return Y({ourProps:r,theirProps:f,slot:s,attrs:d,slots:h,features:ve.RenderStrategy|ve.Static,visible:m.value,name:"MenuItems"})}}}),_t=B({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:d,attrs:h,expose:k}){var y;let _=(y=e.id)!=null?y:`headlessui-menu-item-${ie()}`,t=ee("MenuItem"),o=x(null);k({el:o,$el:o});let c=O(()=>t.activeItemIndex.value!==null?t.items.value[t.activeItemIndex.value].id===_:!1),b=Ve(o),I=O(()=>({disabled:e.disabled,get textValue(){return b()},domRef:o}));ue(()=>t.registerItem(_,I)),Ae(()=>t.unregisterItem(_)),Ee(()=>{t.menuState.value===0&&c.value&&t.activationTrigger.value!==0&&L(()=>{var n,M;return(M=(n=R(o))==null?void 0:n.scrollIntoView)==null?void 0:M.call(n,{block:"nearest"})})});function m(n){if(e.disabled)return n.preventDefault();t.closeMenu(),Ie(R(t.buttonRef))}function a(){if(e.disabled)return t.goToItem($.Nothing);t.goToItem($.Specific,_)}let l=Ue();function s(n){l.update(n)}function f(n){l.wasMoved(n)&&(e.disabled||c.value||t.goToItem($.Specific,_,0))}function r(n){l.wasMoved(n)&&(e.disabled||c.value&&t.goToItem($.Nothing))}return()=>{let{disabled:n,...M}=e,U={active:c.value,disabled:n,close:t.closeMenu};return Y({ourProps:{id:_,ref:o,role:"menuitem",tabIndex:n===!0?void 0:-1,"aria-disabled":n===!0?!0:void 0,onClick:m,onFocus:a,onPointerenter:s,onMouseenter:s,onPointermove:f,onMousemove:f,onPointerleave:r,onMouseleave:r},theirProps:{...h,...M},slot:U,attrs:h,slots:d,name:"MenuItem"})}}});const oe=ke(W.ui.strategy,W.ui.kbd,pt),ht=B({inheritAttrs:!1,props:{value:{type:String,default:null},size:{type:String,default:()=>oe.default.size,validator(e){return Object.keys(oe.size).includes(e)}},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:d,attrs:h}=be("kbd",re(e,"ui"),oe),k=O(()=>Me(Se(d.value.base,d.value.size[e.size],d.value.padding,d.value.rounded,d.value.font,d.value.background,d.value.ring),e.class));return{ui:d,attrs:h,kbdClass:k}}});function kt(e,d,h,k,y,_){return w(),D("kbd",q({class:e.kbdClass},e.attrs),[se(e.$slots,"default",{},()=>[Z(N(e.value),1)])],16)}const xe=we(ht,[["render",kt]]),le=ke(W.ui.strategy,W.ui.dropdown,Te),Mt=B({components:{HMenu:gt,HMenuButton:bt,HMenuItems:yt,HMenuItem:_t,UIcon:ye,UAvatar:he,UKbd:xe},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},mode:{type:String,default:"click",validator:e=>["click","hover"].includes(e)},open:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},popper:{type:Object,default:()=>({})},openDelay:{type:Number,default:()=>le.default.openDelay},closeDelay:{type:Number,default:()=>le.default.closeDelay},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:open"],setup(e,{emit:d}){const{ui:h,attrs:k}=be("dropdown",re(e,"ui"),le,re(e,"class")),y=O(()=>He(e.mode==="hover"?{offsetDistance:0}:{},e.popper,h.value.popper)),[_,t]=Ne(y.value),o=x(null);let c=null,b=null;ue(()=>{const r=_.value?.$.provides;if(!r)return;const n=Object.getOwnPropertySymbols(r);o.value=n.length&&r[n[0]],e.open&&o.value?.openMenu()});const I=O(()=>{if(e.mode!=="hover")return{};const r=e.popper?.offsetDistance||h.value.popper?.offsetDistance||8,n=y.value.placement?.split("-")[0],M=`${r}px`;return n==="top"||n==="bottom"?{paddingTop:M,paddingBottom:M}:n==="left"||n==="right"?{paddingLeft:M,paddingRight:M}:{paddingTop:M,paddingBottom:M,paddingLeft:M,paddingRight:M}});function m(r){!r.cancelable||!o.value||e.mode==="click"||(o.value.menuState===0?o.value.closeMenu():o.value.openMenu())}function a(){e.mode!=="hover"||!o.value||(b&&(clearTimeout(b),b=null),o.value.menuState!==0&&(c=c||setTimeout(()=>{o.value.openMenu&&o.value.openMenu(),c=null},e.openDelay)))}function l(){e.mode!=="hover"||!o.value||(c&&(clearTimeout(c),c=null),o.value.menuState!==1&&(b=b||setTimeout(()=>{o.value.closeMenu&&o.value.closeMenu(),b=null},e.closeDelay)))}function s(r,n,{href:M,navigate:U,close:z,isExternal:F}){n.click&&n.click(r),M&&!F&&(U(r),z())}pe(()=>e.open,(r,n)=>{o.value&&(n===void 0||r===n||(r?o.value.openMenu():o.value.closeMenu()))}),pe(()=>o.value?.menuState,(r,n)=>{n===void 0||r===n||d("update:open",r===0)});const f=_e;return ot(()=>qe()),{ui:h,attrs:k,popper:y,trigger:_,container:t,containerStyle:I,onTouchStart:m,onMouseEnter:a,onMouseLeave:l,onClick:s,getNuxtLinkProps:Re,twMerge:Me,twJoin:Se,NuxtLink:f}}}),St=["disabled"];function wt(e,d,h,k,y,_){const t=Q("HMenuButton"),o=ye,c=he,b=xe,I=Q("HMenuItem"),m=_e,a=Q("HMenuItems"),l=Q("HMenu");return w(),E(l,q({as:"div",class:e.ui.wrapper},e.attrs,{onMouseleave:e.onMouseLeave}),{default:g(({open:s})=>[v(t,{ref:"trigger",as:"div",disabled:e.disabled,class:V(e.ui.trigger),role:"button",onMouseenter:e.onMouseEnter,onTouchstartPassive:e.onTouchStart},{default:g(()=>[se(e.$slots,"default",{open:s,disabled:e.disabled},()=>[P("button",{disabled:e.disabled}," Open ",8,St)])]),_:2},1032,["disabled","class","onMouseenter","onTouchstartPassive"]),s&&e.items.length?(w(),D("div",{key:0,ref:"container",class:V([e.ui.container,e.ui.width]),style:Le(e.containerStyle),onMouseenter:d[0]||(d[0]=(...f)=>e.onMouseEnter&&e.onMouseEnter(...f))},[v(ze,q({appear:""},e.ui.transition),{default:g(()=>[P("div",null,[e.popper.arrow?(w(),D("div",{key:0,"data-popper-arrow":"",class:V(Object.values(e.ui.arrow))},null,2)):G("",!0),v(a,{class:V([e.ui.base,e.ui.divide,e.ui.ring,e.ui.rounded,e.ui.shadow,e.ui.background,e.ui.height]),static:""},{default:g(()=>[(w(!0),D(ae,null,ne(e.items,(f,r)=>(w(),D("div",{key:r,class:V(e.ui.padding)},[(w(!0),D(ae,null,ne(f,(n,M)=>(w(),E(m,q({key:M},{ref_for:!0},e.getNuxtLinkProps(n),{custom:""}),{default:g(({href:U,target:z,rel:F,navigate:p,isExternal:u,isActive:C})=>[v(I,{disabled:n.disabled},{default:g(({active:H,disabled:K,close:te})=>[(w(),E(Fe(U?"a":"button"),{href:K?void 0:U,rel:F,target:z,class:V(e.twMerge(e.twJoin(e.ui.item.base,e.ui.item.padding,e.ui.item.size,e.ui.item.rounded,H||C?e.ui.item.active:e.ui.item.inactive,K&&e.ui.item.disabled),n.class)),onClick:A=>e.onClick(A,n,{href:U,navigate:p,close:te,isExternal:u})},{default:g(()=>[se(e.$slots,n.slot||"item",{item:n},()=>[n.icon?(w(),E(o,{key:0,name:n.icon,class:V(e.twMerge(e.twJoin(e.ui.item.icon.base,H||C?e.ui.item.icon.active:e.ui.item.icon.inactive),n.iconClass))},null,8,["name","class"])):n.avatar?(w(),E(c,q({key:1,ref_for:!0},{size:e.ui.item.avatar.size,...n.avatar},{class:e.ui.item.avatar.base}),null,16,["class"])):G("",!0),P("span",{class:V(e.twMerge(e.ui.item.label,n.labelClass))},N(n.label),3),n.shortcuts?.length?(w(),D("span",{key:2,class:V(e.ui.item.shortcuts)},[(w(!0),D(ae,null,ne(n.shortcuts,A=>(w(),E(b,{key:A},{default:g(()=>[Z(N(A),1)]),_:2},1024))),128))],2)):G("",!0)])]),_:2},1032,["href","rel","target","class","onClick"]))]),_:2},1032,["disabled"])]),_:2},1040))),128))],2))),128))]),_:3},8,["class"])])]),_:3},16)],38)):G("",!0)]),_:3},16,["class","onMouseleave"])}const It=we(Mt,[["render",wt]]),Pt={class:"space-y-8"},xt={class:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4"},Tt={class:"space-y-4"},Rt={class:"font-bold text-slate-900 dark:text-white"},Ct={class:"text-xs text-slate-500"},Dt={key:1,class:"text-xs text-red-400"},$t={key:0,class:"text-sm"},Ot={key:1,class:"text-xs text-slate-400"},Ut={class:"flex items-center justify-between"},Vt={class:"flex justify-end gap-3 mt-6"},Nt={class:"font-semibold text-gray-900 dark:text-white"},At={class:"flex justify-end gap-3 mt-6"},Xt=B({__name:"index",setup(e){const d=Ke(),h=Je("headerTitle",()=>"Peluquerías");h.value="Peluquerías";const k=Qe(),y=x(!1),_=x(!1),t=x([]),o=x([]),c=p=>[[{label:"Ver Detalles",icon:"i-heroicons-eye",click:()=>{console.log("Navigating to tenant:",p.slug),k.push(`/admin/tenants/${p.slug}`)}}],[{label:"Registrar Pago",icon:"i-heroicons-banknotes",click:()=>M(p)}],[{label:"Suspender",icon:"i-heroicons-no-symbol",color:"red"}]],b=x(!1),I=x(!1),m=x(null),a=Ge({amount:0,payment_method:"Transferencia",reference_id:""}),l=x({name:"",slug:"",plan_id:"",status:"active"}),s=[{key:"name",label:"Negocio"},{key:"plan",label:"Plan"},{key:"status",label:"Estado"},{key:"next_billing_date",label:"Próximo Pago"},{key:"actions",label:"Acciones"}],f=async()=>{const{data:p}=await d.from("tenants").select("*, plans(name, price)").order("created_at",{ascending:!1});p&&(t.value=p)},r=async()=>{const{data:p}=await d.from("plans").select("id, name").eq("active",!0);p&&(o.value=p,p.length>0&&(l.value.plan_id=p[0].id))},n=async()=>{_.value=!0;try{const{error:p}=await d.from("tenants").insert(l.value);if(p)throw p;y.value=!1,l.value={name:"",slug:"",plan_id:o.value[0]?.id||"",status:"active"},await f(),alert("Peluquería creada exitosamente")}catch(p){alert("Error al crear: "+p.message)}finally{_.value=!1}},M=p=>{m.value=p,a.amount=p.plans?.price||0,a.reference_id="",a.payment_method="Transferencia",b.value=!0},U=async()=>{if(m.value){I.value=!0;try{const{error:p}=await d.from("tenant_payments").insert({tenant_id:m.value.id,amount:a.amount,payment_method:a.payment_method,reference_id:a.reference_id,status:"completed"});if(p)throw p;const u=new Date;u.setMonth(u.getMonth()+1);const{error:C}=await d.from("tenants").update({status:"active",next_billing_date:u.toISOString()}).eq("id",m.value.id);if(C)throw C;b.value=!1,await f(),alert("Pago registrado y suscripción renovada.")}catch(p){alert("Error al registrar pago: "+p.message)}finally{I.value=!1}}},z=p=>{switch(p){case"active":return"emerald";case"suspended":return"red";case"pending_payment":return"orange";default:return"gray"}},F=p=>{switch(p){case"active":return"Activo";case"suspended":return"Suspendido";case"pending_payment":return"Pendiente Pago";default:return p}};return ue(()=>{f(),r()}),(p,u)=>{const C=Ce,H=De,K=It,te=rt,A=ut,J=dt,j=it,de=ct,ce=lt;return w(),D("div",Pt,[P("div",xt,[u[12]||(u[12]=P("div",{class:"hidden md:block"},[P("h1",{class:"text-3xl font-extrabold text-slate-900 dark:text-white tracking-tight"},"Peluquerías"),P("p",{class:"text-slate-500 dark:text-slate-400 mt-1"},"Directorio de negocios registrados en la plataforma.")],-1)),v(C,{icon:"i-heroicons-plus",label:"Nueva Peluquería",color:"emerald",size:"lg",onClick:u[0]||(u[0]=i=>y.value=!0),class:"shadow-lg shadow-emerald-500/20"})]),P("div",Tt,[v(A,{class:"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800",ui:{body:{padding:"p-0"}}},{default:g(()=>[v(te,{rows:S(t),columns:s,ui:{thead:"bg-slate-50 dark:bg-slate-800/50",th:{color:"text-slate-900 dark:text-white"},td:{color:"text-slate-600 dark:text-slate-400"}}},{"name-data":g(({row:i})=>[P("div",null,[P("div",Rt,N(i.name),1),P("div",Ct,N(i.slug),1)])]),"plan-data":g(({row:i})=>[i.plans?(w(),E(H,{key:0,color:"gray",variant:"subtle"},{default:g(()=>[Z(N(i.plans.name),1)]),_:2},1024)):(w(),D("span",Dt,"Sin Plan"))]),"status-data":g(({row:i})=>[v(H,{color:z(i.status),variant:"subtle"},{default:g(()=>[Z(N(F(i.status)),1)]),_:2},1032,["color"])]),"next_billing_date-data":g(({row:i})=>[i.next_billing_date?(w(),D("span",$t,N(new Date(i.next_billing_date).toLocaleDateString()),1)):(w(),D("span",Ot,"N/A"))]),"actions-data":g(({row:i})=>[v(K,{items:c(i)},{default:g(()=>[v(C,{color:"gray",variant:"ghost",icon:"i-heroicons-ellipsis-horizontal"})]),_:1},8,["items"])]),_:1},8,["rows"])]),_:1})]),v(ce,{modelValue:S(y),"onUpdate:modelValue":u[6]||(u[6]=i=>me(y)?y.value=i:null)},{default:g(()=>[v(A,{ui:{ring:"",divide:"divide-y divide-gray-100 dark:divide-gray-800"}},{header:g(()=>[P("div",Ut,[u[13]||(u[13]=P("h3",{class:"text-base font-semibold leading-6 text-gray-900 dark:text-white"}," Registrar Nueva Peluquería ",-1)),v(C,{color:"gray",variant:"ghost",icon:"i-heroicons-x-mark-20-solid",class:"-my-1",onClick:u[1]||(u[1]=i=>y.value=!1)})])]),default:g(()=>[P("form",{onSubmit:fe(n,["prevent"]),class:"space-y-4 py-2"},[v(j,{label:"Nombre del Negocio",name:"name"},{default:g(()=>[v(J,{modelValue:S(l).name,"onUpdate:modelValue":u[2]||(u[2]=i=>S(l).name=i),icon:"i-heroicons-building-storefront"},null,8,["modelValue"])]),_:1}),v(j,{label:"Slug (URL)",name:"slug"},{default:g(()=>[v(J,{modelValue:S(l).slug,"onUpdate:modelValue":u[3]||(u[3]=i=>S(l).slug=i),icon:"i-heroicons-link"},null,8,["modelValue"])]),_:1}),v(j,{label:"Plan de Suscripción",name:"plan"},{default:g(()=>[v(de,{modelValue:S(l).plan_id,"onUpdate:modelValue":u[4]||(u[4]=i=>S(l).plan_id=i),options:S(o),"option-attribute":"name","value-attribute":"id"},null,8,["modelValue","options"])]),_:1}),P("div",Vt,[v(C,{color:"gray",variant:"ghost",label:"Cancelar",onClick:u[5]||(u[5]=i=>y.value=!1)}),v(C,{type:"submit",color:"emerald",label:"Crear Peluquería",loading:S(_)},null,8,["loading"])])],32)]),_:1})]),_:1},8,["modelValue"]),v(ce,{modelValue:S(b),"onUpdate:modelValue":u[11]||(u[11]=i=>me(b)?b.value=i:null)},{default:g(()=>[v(A,{ui:{ring:"",divide:"divide-y divide-gray-100 dark:divide-gray-800"}},{header:g(()=>[P("h3",Nt,"Registrar Pago - "+N(S(m)?.name),1)]),default:g(()=>[P("form",{onSubmit:fe(U,["prevent"]),class:"space-y-4 py-2"},[v(j,{label:"Monto (CLP)",name:"amount"},{default:g(()=>[v(J,{modelValue:S(a).amount,"onUpdate:modelValue":u[7]||(u[7]=i=>S(a).amount=i),type:"number",icon:"i-heroicons-currency-dollar"},null,8,["modelValue"])]),_:1}),v(j,{label:"Método de Pago",name:"method"},{default:g(()=>[v(de,{modelValue:S(a).payment_method,"onUpdate:modelValue":u[8]||(u[8]=i=>S(a).payment_method=i),options:["Transferencia","Efectivo","Tarjeta"]},null,8,["modelValue"])]),_:1}),v(j,{label:"Referencia / Comprobante",name:"reference"},{default:g(()=>[v(J,{modelValue:S(a).reference_id,"onUpdate:modelValue":u[9]||(u[9]=i=>S(a).reference_id=i),placeholder:"Nro operación"},null,8,["modelValue"])]),_:1}),P("div",At,[v(C,{color:"gray",variant:"ghost",label:"Cancelar",onClick:u[10]||(u[10]=i=>b.value=!1)}),v(C,{type:"submit",color:"emerald",label:"Confirmar Pago",loading:S(I)},null,8,["loading"])])],32)]),_:1})]),_:1},8,["modelValue"])])}}});export{Xt as default};
